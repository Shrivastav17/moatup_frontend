import React, { useState } from "react";
import "./InviteInvestor.css"
import Corporate_Header from "../Corporate/Corporate_Header/Corporate_Header";
const InviteInvestor = () => {
  const [formData, setFormData] = useState({
    eventName: "",
    eventDate: "",
    eventTime: "",
    eventPlace: "",
    emails: "",
    inviteFile: null,
    databaseFile: null,
    message: "",
  });

  const handleChange = (e) => {
    const { name, value } = e.target;
    setFormData({ ...formData, [name]: value });
  };

  const handleFileChange = (e) => {
    const { name, files } = e.target;
    setFormData({ ...formData, [name]: files[0] });
  };

  const handleSubmit = async (e) => {
    e.preventDefault();

    try {
      const formDataToSend = new FormData();
      formDataToSend.append("eventName", formData.eventName);
      formDataToSend.append("eventDate", formData.eventDate);
      formDataToSend.append("eventTime", formData.eventTime);
      formDataToSend.append("eventPlace", formData.eventPlace);
      formDataToSend.append("emails", formData.emails);
      formDataToSend.append("message", formData.message);

      // Append the invite file
      if (formData.inviteFile) {
        formDataToSend.append("inviteFile", formData.inviteFile);
      }

      // Append the database file if exists
      if (formData.databaseFile) {
        formDataToSend.append("databaseFile", formData.databaseFile);
      }
console.log(formDataToSend);

      // Send the data using fetch
      const response = await fetch("http://localhost:9000/inviteInvestor", {
        method: "POST",
        body: formDataToSend,
      });

      const data = await response.json();
      console.log(data);

      if (response.ok) {
        alert(data.message);
      } else {
        console.error("Error submitting the form:", data);
        alert(data.message || "Failed to send the invitation. Please try again.");
      }
    } catch (error) {
      console.error("Error submitting the form:", error);
      alert("Failed to send the invitation. Please try again.");
    }
  };

  return (
    <>
      <Corporate_Header></Corporate_Header>

      <div className="invite-investor-form-container " >
        <h2>Invite Investor</h2>
        <h3>Select Investor</h3>
        <p>150 Contacts selected</p>
        <form onSubmit={handleSubmit} className="invite-investor-form">
          <div className="link">
            <div className="form-group1">
              {/* <label>Event Name:</label> */}
              <input
                type="text"
                name="eventName"
                value={formData.eventName}
                onChange={handleChange}
                placeholder="Event Name"
                required
              />
            </div>

            <div className="form-group2">
              {/* <label>Event Date:</label> */}
              <input
                type="date"
                name="eventDate"
                value={formData.eventDate}
                onChange={handleChange}
                placeholder="Event Date"
                required

              />

            </div>

            <div className="form-group3">
              {/* <label>Event Time:</label> */}
              <input
                type="text"
                name="eventTime"
                value={formData.eventTime}
                onChange={handleChange}
                placeholder="Time"
                required
              />

            </div>
          </div>

          <div className="form-group4">
            {/* <label>Event Place:</label> */}
            <input
              type="text"
              name="eventPlace"
              value={formData.eventPlace}
              onChange={handleChange}
              placeholder="Place"
              required
            />
          </div>
          <div className="form-group5">
  <label htmlFor="inviteFile" className="custom-file-label1">
    {/* <img src="/clip.svg" alt="clip icon" className="file-icon" /> */}
    <svg width="253" height="36" viewBox="0 0 253 36" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="253" height="36" rx="18" fill="#009E94"/>
<path d="M32.63 22H33.974L30.46 12.298H28.99L25.462 22H26.806L27.59 19.83H31.846L32.63 22ZM31.482 18.794H27.954L29.718 13.866L31.482 18.794ZM35.7916 19.9C35.7916 21.44 36.5616 22 37.9196 22H39.0676V20.922H38.1296C37.3456 20.922 37.0656 20.656 37.0656 19.9V15.378H39.0676V14.328H37.0656V12.396H35.7916V14.328H34.7976V15.378H35.7916V19.9ZM40.8912 19.9C40.8912 21.44 41.6612 22 43.0192 22H44.1672V20.922H43.2292C42.4452 20.922 42.1652 20.656 42.1652 19.9V15.378H44.1672V14.328H42.1652V12.396H40.8912V14.328H39.8972V15.378H40.8912V19.9ZM45.2348 18.136C45.2348 20.516 46.8168 22.126 48.8608 22.126C50.2748 22.126 51.2688 21.398 51.7308 20.572V22H53.0188V14.328H51.7308V15.728C51.2828 14.93 50.3028 14.202 48.8748 14.202C46.8168 14.202 45.2348 15.742 45.2348 18.136ZM51.7308 18.15C51.7308 19.956 50.5268 21.006 49.1268 21.006C47.7268 21.006 46.5368 19.942 46.5368 18.136C46.5368 16.33 47.7268 15.308 49.1268 15.308C50.5268 15.308 51.7308 16.372 51.7308 18.15ZM54.6958 18.15C54.6958 20.586 56.2498 22.126 58.4338 22.126C60.3378 22.126 61.5838 21.062 61.9758 19.536H60.6038C60.3238 20.502 59.5678 21.048 58.4338 21.048C57.0338 21.048 55.9978 20.054 55.9978 18.15C55.9978 16.274 57.0338 15.28 58.4338 15.28C59.5678 15.28 60.3378 15.868 60.6038 16.792H61.9758C61.5838 15.182 60.3378 14.202 58.4338 14.202C56.2498 14.202 54.6958 15.742 54.6958 18.15ZM63.6757 22H64.9497V17.758C64.9497 16.106 65.8457 15.294 67.1477 15.294C68.4357 15.294 69.2897 16.092 69.2897 17.66V22H70.5497V17.478C70.5497 15.28 69.1917 14.188 67.4837 14.188C66.4057 14.188 65.4537 14.622 64.9497 15.434V11.64H63.6757V22ZM76.3632 22H77.6372V12.242H76.3632V22ZM85.4225 22H86.6825V17.478C86.6825 15.28 85.3245 14.188 83.5465 14.188C82.5105 14.188 81.5865 14.622 81.0825 15.42V14.328H79.8085V22H81.0825V17.758C81.0825 16.106 81.9785 15.294 83.2805 15.294C84.5685 15.294 85.4225 16.092 85.4225 17.66V22ZM87.8535 14.328L90.8635 22H92.3475L95.3575 14.328H93.9995L91.6195 20.824L89.2255 14.328H87.8535ZM96.6112 22H97.8852V14.328H96.6112V22ZM97.2692 13.082C97.7312 13.082 98.1092 12.704 98.1092 12.214C98.1092 11.724 97.7312 11.346 97.2692 11.346C96.7792 11.346 96.4012 11.724 96.4012 12.214C96.4012 12.704 96.7792 13.082 97.2692 13.082ZM100.337 19.9C100.337 21.44 101.107 22 102.465 22H103.613V20.922H102.675C101.891 20.922 101.611 20.656 101.611 19.9V15.378H103.613V14.328H101.611V12.396H100.337V14.328H99.3425V15.378H100.337V19.9ZM108.418 15.28C109.734 15.28 110.854 16.106 110.84 17.604H105.996C106.136 16.106 107.172 15.28 108.418 15.28ZM112.002 19.634H110.63C110.35 20.46 109.622 21.048 108.474 21.048C107.172 21.048 106.08 20.194 105.982 18.64H112.114C112.142 18.374 112.156 18.15 112.156 17.87C112.156 15.77 110.7 14.202 108.474 14.202C106.234 14.202 104.68 15.728 104.68 18.15C104.68 20.586 106.29 22.126 108.474 22.126C110.378 22.126 111.61 21.034 112.002 19.634Z" fill="white"/>
<circle cx="229.5" cy="17.5" r="14.5" fill="white" fill-opacity="0.19"/>
<path d="M237.867 16.7343L230.208 25.1708C229.27 26.2043 227.998 26.7849 226.671 26.7849C225.344 26.7849 224.072 26.2043 223.133 25.1708C222.195 24.1372 221.668 22.7354 221.668 21.2738C221.668 19.8122 222.195 18.4104 223.133 17.3769L230.792 8.94037C231.417 8.25135 232.265 7.86426 233.15 7.86426C234.035 7.86426 234.883 8.25135 235.508 8.94037C236.134 9.62939 236.485 10.5639 236.485 11.5383C236.485 12.5128 236.134 13.4473 235.508 14.1363L227.842 22.5728C227.529 22.9173 227.105 23.1108 226.663 23.1108C226.22 23.1108 225.796 22.9173 225.483 22.5728C225.171 22.2283 224.995 21.761 224.995 21.2738C224.995 20.7866 225.171 20.3193 225.483 19.9748L232.558 12.1901" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>



  </label>    
  <input
    type="file"
    id="inviteFile"
    name="inviteFile"
    onChange={handleFileChange}
    className="custom-file-input1"
  />
 {formData.inviteFile && (
    <p className="file-name">{formData.inviteFile.name}</p>
  )}
</div>


          <hr className="custom-hr" />
          <div className="form-group6">
            {/* <label>Emails (comma-separated):</label> */}
            <input
              type="text"
              name="emails"
              value={formData.emails}
              onChange={handleChange}
              placeholder="Enter multiple emails separated by commas"
              required
            />
          </div>



          <div className="form-group7">
          <label htmlFor="databaseFile" className="custom-file-label">
    {/* <img src="/clip.svg" alt="clip icon" className="file-icon" /> */}
    <svg width="253" height="36" viewBox="0 0 253 36" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M19.0748 12.2H13.9648V22H19.0748V21.188H14.9448V17.478H18.6548V16.666H14.9448V13.012H19.0748V12.2ZM20.0958 14.356L23.1618 22H24.2678L27.3338 14.356H26.2978L23.7218 21.048L21.1458 14.356H20.0958ZM31.9241 15.084C33.3381 15.084 34.6261 15.98 34.5841 17.758H29.2081C29.3201 15.98 30.5381 15.084 31.9241 15.084ZM35.4661 19.578H34.4301C34.1501 20.6 33.2681 21.286 31.9661 21.286C30.5381 21.286 29.2921 20.348 29.2081 18.556H35.5501C35.5781 18.29 35.5781 18.094 35.5781 17.786C35.5781 15.84 34.2061 14.244 31.9661 14.244C29.7681 14.244 28.2141 15.742 28.2141 18.178C28.2141 20.6 29.7961 22.112 31.9661 22.112C33.8841 22.112 35.1161 21.02 35.4661 19.578ZM43.0971 22H44.0631V17.52C44.0631 15.28 42.6911 14.216 40.9551 14.216C39.8211 14.216 38.8411 14.706 38.3511 15.658V14.356H37.3711V22H38.3511V17.828C38.3511 15.966 39.3451 15.07 40.7731 15.07C42.1731 15.07 43.0971 15.938 43.0971 17.632V22ZM46.5104 19.928C46.5104 21.454 47.2244 22 48.5544 22H49.6044V21.16H48.7084C47.8264 21.16 47.5044 20.866 47.5044 19.928V15.182H49.6044V14.356H47.5044V12.438H46.5104V14.356H45.4464V15.182H46.5104V19.928ZM61.4605 12.214V20.432L56.0425 12.214H55.0625V22H56.0425V13.768L61.4605 22H62.4405V12.214H61.4605ZM64.2121 18.164C64.2121 20.558 65.7661 22.112 67.8521 22.112C69.3781 22.112 70.4421 21.286 70.8901 20.306V22H71.8701V14.356H70.8901V16.036C70.4561 15.07 69.4061 14.244 67.8661 14.244C65.7661 14.244 64.2121 15.77 64.2121 18.164ZM70.8901 18.178C70.8901 20.082 69.6161 21.258 68.0481 21.258C66.4381 21.258 65.2061 20.096 65.2061 18.164C65.2061 16.218 66.4381 15.098 68.0481 15.098C69.6161 15.098 70.8901 16.274 70.8901 18.178ZM85.2794 22H86.2454V17.52C86.2454 15.28 84.9014 14.216 83.2074 14.216C81.9894 14.216 80.8694 14.846 80.4494 16.092C79.9874 14.818 78.8954 14.216 77.6214 14.216C76.5434 14.216 75.5774 14.706 75.0874 15.672V14.356H74.1074V22H75.0874V17.856C75.0874 15.994 76.0534 15.07 77.4534 15.07C78.8114 15.07 79.7074 15.938 79.7074 17.632V22H80.6734V17.856C80.6734 15.994 81.6534 15.07 83.0394 15.07C84.3974 15.07 85.2794 15.938 85.2794 17.632V22ZM91.6839 15.084C93.0979 15.084 94.3859 15.98 94.3439 17.758H88.9679C89.0799 15.98 90.2979 15.084 91.6839 15.084ZM95.2259 19.578H94.1899C93.9099 20.6 93.0279 21.286 91.7259 21.286C90.2979 21.286 89.0519 20.348 88.9679 18.556H95.3099C95.3379 18.29 95.3379 18.094 95.3379 17.786C95.3379 15.84 93.9659 14.244 91.7259 14.244C89.5279 14.244 87.9739 15.742 87.9739 18.178C87.9739 20.6 89.5559 22.112 91.7259 22.112C93.6439 22.112 94.8759 21.02 95.2259 19.578Z" fill="#646464"/>
<rect width="253" height="36" rx="18" fill="#009E94"/>
// <path d="M32.63 22H33.974L30.46 12.298H28.99L25.462 22H26.806L27.59 19.83H31.846L32.63 22ZM31.482 18.794H27.954L29.718 13.866L31.482 18.794ZM35.7916 19.9C35.7916 21.44 36.5616 22 37.9196 22H39.0676V20.922H38.1296C37.3456 20.922 37.0656 20.656 37.0656 19.9V15.378H39.0676V14.328H37.0656V12.396H35.7916V14.328H34.7976V15.378H35.7916V19.9ZM40.8912 19.9C40.8912 21.44 41.6612 22 43.0192 22H44.1672V20.922H43.2292C42.4452 20.922 42.1652 20.656 42.1652 19.9V15.378H44.1672V14.328H42.1652V12.396H40.8912V14.328H39.8972V15.378H40.8912V19.9ZM45.2348 18.136C45.2348 20.516 46.8168 22.126 48.8608 22.126C50.2748 22.126 51.2688 21.398 51.7308 20.572V22H53.0188V14.328H51.7308V15.728C51.2828 14.93 50.3028 14.202 48.8748 14.202C46.8168 14.202 45.2348 15.742 45.2348 18.136ZM51.7308 18.15C51.7308 19.956 50.5268 21.006 49.1268 21.006C47.7268 21.006 46.5368 19.942 46.5368 18.136C46.5368 16.33 47.7268 15.308 49.1268 15.308C50.5268 15.308 51.7308 16.372 51.7308 18.15ZM54.6958 18.15C54.6958 20.586 56.2498 22.126 58.4338 22.126C60.3378 22.126 61.5838 21.062 61.9758 19.536H60.6038C60.3238 20.502 59.5678 21.048 58.4338 21.048C57.0338 21.048 55.9978 20.054 55.9978 18.15C55.9978 16.274 57.0338 15.28 58.4338 15.28C59.5678 15.28 60.3378 15.868 60.6038 16.792H61.9758C61.5838 15.182 60.3378 14.202 58.4338 14.202C56.2498 14.202 54.6958 15.742 54.6958 18.15ZM63.6757 22H64.9497V17.758C64.9497 16.106 65.8457 15.294 67.1477 15.294C68.4357 15.294 69.2897 16.092 69.2897 17.66V22H70.5497V17.478C70.5497 15.28 69.1917 14.188 67.4837 14.188C66.4057 14.188 65.4537 14.622 64.9497 15.434V11.64H63.6757V22ZM79.4012 12.242H76.3632V22H79.4012C82.6072 22 84.5812 20.166 84.5812 17.142C84.5812 14.118 82.6072 12.242 79.4012 12.242ZM77.6372 20.95V13.278H79.4012C81.9492 13.278 83.2792 14.762 83.2792 17.142C83.2792 19.522 81.9492 20.95 79.4012 20.95H77.6372ZM85.7856 18.136C85.7856 20.516 87.3676 22.126 89.4116 22.126C90.8256 22.126 91.8196 21.398 92.2816 20.572V22H93.5696V14.328H92.2816V15.728C91.8336 14.93 90.8536 14.202 89.4256 14.202C87.3676 14.202 85.7856 15.742 85.7856 18.136ZM92.2816 18.15C92.2816 19.956 91.0776 21.006 89.6776 21.006C88.2776 21.006 87.0876 19.942 87.0876 18.136C87.0876 16.33 88.2776 15.308 89.6776 15.308C91.0776 15.308 92.2816 16.372 92.2816 18.15ZM96.0025 19.9C96.0025 21.44 96.7725 22 98.1305 22H99.2785V20.922H98.3405C97.5565 20.922 97.2765 20.656 97.2765 19.9V15.378H99.2785V14.328H97.2765V12.396H96.0025V14.328H95.0085V15.378H96.0025V19.9ZM100.346 18.136C100.346 20.516 101.928 22.126 103.972 22.126C105.386 22.126 106.38 21.398 106.842 20.572V22H108.13V14.328H106.842V15.728C106.394 14.93 105.414 14.202 103.986 14.202C101.928 14.202 100.346 15.742 100.346 18.136ZM106.842 18.15C106.842 19.956 105.638 21.006 104.238 21.006C102.838 21.006 101.648 19.942 101.648 18.136C101.648 16.33 102.838 15.308 104.238 15.308C105.638 15.308 106.842 16.372 106.842 18.15ZM111.557 15.756V11.64H110.283V22H111.557V20.586C112.033 21.426 113.027 22.126 114.427 22.126C116.485 22.126 118.067 20.516 118.067 18.136C118.067 15.742 116.499 14.202 114.427 14.202C113.069 14.202 112.047 14.902 111.557 15.756ZM116.765 18.136C116.765 19.942 115.575 21.006 114.161 21.006C112.775 21.006 111.557 19.956 111.557 18.15C111.557 16.372 112.775 15.308 114.161 15.308C115.575 15.308 116.765 16.33 116.765 18.136ZM119.268 18.136C119.268 20.516 120.85 22.126 122.894 22.126C124.308 22.126 125.302 21.398 125.764 20.572V22H127.052V14.328H125.764V15.728C125.316 14.93 124.336 14.202 122.908 14.202C120.85 14.202 119.268 15.742 119.268 18.136ZM125.764 18.15C125.764 19.956 124.56 21.006 123.16 21.006C121.76 21.006 120.57 19.942 120.57 18.136C120.57 16.33 121.76 15.308 123.16 15.308C124.56 15.308 125.764 16.372 125.764 18.15ZM134.721 19.914C134.665 17.17 130.213 18.164 130.213 16.344C130.213 15.728 130.773 15.28 131.711 15.28C132.733 15.28 133.321 15.84 133.377 16.61H134.651C134.567 15.112 133.447 14.202 131.753 14.202C130.045 14.202 128.939 15.168 128.939 16.344C128.939 19.2 133.475 18.206 133.475 19.914C133.475 20.544 132.915 21.048 131.907 21.048C130.829 21.048 130.171 20.488 130.101 19.746H128.785C128.869 21.146 130.129 22.126 131.921 22.126C133.615 22.126 134.721 21.174 134.721 19.914ZM139.781 15.28C141.097 15.28 142.217 16.106 142.203 17.604H137.359C137.499 16.106 138.535 15.28 139.781 15.28ZM143.365 19.634H141.993C141.713 20.46 140.985 21.048 139.837 21.048C138.535 21.048 137.443 20.194 137.345 18.64H143.477C143.505 18.374 143.519 18.15 143.519 17.87C143.519 15.77 142.063 14.202 139.837 14.202C137.597 14.202 136.043 15.728 136.043 18.15C136.043 20.586 137.653 22.126 139.837 22.126C141.741 22.126 142.973 21.034 143.365 19.634Z" fill="white"/>
<circle cx="229.5" cy="17.5" r="14.5" fill="white" fill-opacity="0.19"/>
<path d="M237.867 16.6337L230.208 25.0702C229.27 26.1037 227.998 26.6844 226.671 26.6844C225.344 26.6844 224.072 26.1037 223.133 25.0702C222.195 24.0367 221.668 22.6349 221.668 21.1732C221.668 19.7116 222.195 18.3098 223.133 17.2763L230.792 8.83978C231.417 8.15076 232.266 7.76367 233.15 7.76367C234.035 7.76367 234.883 8.15076 235.508 8.83978C236.134 9.52881 236.485 10.4633 236.485 11.4378C236.485 12.4122 236.134 13.3467 235.508 14.0357L227.842 22.4722C227.529 22.8167 227.105 23.0103 226.663 23.0103C226.22 23.0103 225.796 22.8167 225.483 22.4722C225.171 22.1277 224.995 21.6605 224.995 21.1732C224.995 20.686 225.171 20.2188 225.483 19.8743L232.558 12.0895" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

  </label>    
  <input
    type="file"
    id="databaseFile"
    name="databaseFile"
    onChange={handleFileChange}
    className="custom-file-input"
  />
     {formData.databaseFile && (
    <p className="file-name1">{formData.databaseFile.name}</p>
  )}
          </div>

          <div className="form-group8">
            {/* <label>Message:</label> */}
            <textarea
              name="message"
              value={formData.message}
              onChange={handleChange}
              rows="4"
              placeholder="Message"
              required
            ></textarea>
          </div>

          <button type="submit" className="submit-button">
            Submit
          </button>
        </form>
      </div>
    </>
  );
};

export default InviteInvestor;